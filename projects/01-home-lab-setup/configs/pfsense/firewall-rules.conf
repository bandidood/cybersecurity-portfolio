# Configuration pfSense - Règles de pare-feu de base
# Fichier de configuration d'exemple pour pfSense
# ⚠️ ATTENTION: Adapter selon votre environnement

# ====================================================================
# INTERFACES RÉSEAU
# ====================================================================

# WAN Interface (vers Internet)
wan_interface="em0"
wan_ip="dhcp"  # ou IP statique selon configuration

# LAN Interface (réseau interne)
lan_interface="em1" 
lan_ip="192.168.100.1"
lan_subnet="192.168.100.0/24"

# DMZ Interface (zone démilitarisée)
dmz_interface="em2"
dmz_ip="172.16.1.1"
dmz_subnet="172.16.1.0/24"

# RED TEAM Interface (outils d'attaque)
redteam_interface="em3"
redteam_ip="10.0.0.1"
redteam_subnet="10.0.0.0/24"

# BLUE TEAM Interface (défense et monitoring)
blueteam_interface="em4"
blueteam_ip="172.16.2.1" 
blueteam_subnet="172.16.2.0/24"

# ====================================================================
# RÈGLES DE PARE-FEU (Principe: Deny All, Allow Specific)
# ====================================================================

# RÈGLE 1: WAN vers LAN/DMZ/Teams - BLOQUÉ par défaut
# Action: BLOCK
# Source: WAN net
# Destination: LAN/DMZ/RedTeam/BlueTeam nets
# Description: Bloquer tout trafic entrant depuis Internet

# RÈGLE 2: LAN vers Internet - AUTORISÉ
# Action: PASS
# Source: LAN net (192.168.100.0/24)
# Destination: WAN net
# Protocol: Any
# Description: Permettre navigation Internet depuis LAN

# RÈGLE 3: LAN vers DMZ - AUTORISÉ (ports spécifiques)
# Action: PASS
# Source: LAN net (192.168.100.0/24)
# Destination: DMZ net (172.16.1.0/24)
# Protocol: TCP
# Ports: 80, 443, 22
# Description: Accès web et SSH depuis LAN vers DMZ

# RÈGLE 4: DMZ vers LAN - BLOQUÉ
# Action: BLOCK
# Source: DMZ net (172.16.1.0/24)
# Destination: LAN net (192.168.100.0/24)
# Protocol: Any
# Description: Empêcher remontée depuis DMZ vers LAN

# RÈGLE 5: Red Team isolé
# Action: BLOCK
# Source: RedTeam net (10.0.0.0/24)
# Destination: LAN net (192.168.100.0/24)
# Protocol: Any
# Description: Isoler les outils d'attaque du réseau de production

# RÈGLE 6: Red Team vers DMZ - AUTORISÉ (tests)
# Action: PASS
# Source: RedTeam net (10.0.0.0/24)
# Destination: DMZ net (172.16.1.0/24)
# Protocol: Any
# Description: Permettre tests d'intrusion sur DMZ

# RÈGLE 7: Blue Team monitoring - AUTORISÉ
# Action: PASS
# Source: BlueTeam net (172.16.2.0/24)
# Destination: Any
# Protocol: Any
# Description: Permettre surveillance complète pour Blue Team

# Interface pfSense: https://192.168.100.1
# Login par défaut: admin / pfsense
# ⚠️ CHANGER LE MOT DE PASSE IMMÉDIATEMENT